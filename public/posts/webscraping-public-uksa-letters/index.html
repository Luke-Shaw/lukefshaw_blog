<!DOCTYPE html>
<html lang="en-gb">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#a50f15">
	<meta name="msapplication-TileColor" content="#a50f15">
<meta itemprop="name" content="Web scraping public UKSA letters">
<meta itemprop="description" content="1 Intro2 Scraping the site2.1 Theme table and plot2.2 Individual letters - 2020 in progress3 Further analysis4 Conclusion1 IntroThe UK Statistics Authority (UKSA), and its regulatory arm the Office for Statistics Regulation (OSR), play the role of independently regulating and promoting good practice in official statistics.
Part of this work is through written publicly available letters with producers of such statistics, the most high-profile of which was the letter criticising the claim of ‘£350 million per week’ in relation to the UK leaving the EU.">
<meta itemprop="datePublished" content="2020-06-19T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-06-19T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="720">



<meta itemprop="keywords" content="" /><meta property="og:title" content="Web scraping public UKSA letters" />
<meta property="og:description" content="1 Intro2 Scraping the site2.1 Theme table and plot2.2 Individual letters - 2020 in progress3 Further analysis4 Conclusion1 IntroThe UK Statistics Authority (UKSA), and its regulatory arm the Office for Statistics Regulation (OSR), play the role of independently regulating and promoting good practice in official statistics.
Part of this work is through written publicly available letters with producers of such statistics, the most high-profile of which was the letter criticising the claim of ‘£350 million per week’ in relation to the UK leaving the EU." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/webscraping-public-uksa-letters/" />
<meta property="article:published_time" content="2020-06-19T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-06-19T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Web scraping public UKSA letters"/>
<meta name="twitter:description" content="1 Intro2 Scraping the site2.1 Theme table and plot2.2 Individual letters - 2020 in progress3 Further analysis4 Conclusion1 IntroThe UK Statistics Authority (UKSA), and its regulatory arm the Office for Statistics Regulation (OSR), play the role of independently regulating and promoting good practice in official statistics.
Part of this work is through written publicly available letters with producers of such statistics, the most high-profile of which was the letter criticising the claim of ‘£350 million per week’ in relation to the UK leaving the EU."/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>Web scraping public UKSA letters</title>
	<link rel="stylesheet" href="/css/style.min.eac77496566fd7d5768fd650ddb0b2b181ca6a2d7c5fdd6fe6b8ba4bf47e566f.css" integrity="sha256-6sd0llZv19V2j9ZQ3bCysYHKai18X91v5ri6S/R+Vm8=" crossorigin="anonymous">
	
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="/">Luke Shaw</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="/posts/">Posts</a>
				<a href="/about/">About</a>
				<a href="/cv/">CV</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://twitter.com/lukefshaw" target="_blank" rel="noopener me" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://github.com/Luke-Shaw" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="https://www.linkedin.com/in/luke-shaw-bba802153/" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="/posts/">Posts</a></li>
			<li><a href="/about/">About</a></li>
			<li><a href="/cv/">CV</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Jun 19, 2020</span></div>
				<h1>Web scraping public UKSA letters</h1>
			</header>
			<div class="content">
				

<div id="TOC">
<ul>
<li><a href="#intro"><span class="toc-section-number">1</span> Intro</a></li>
<li><a href="#scraping-the-site"><span class="toc-section-number">2</span> Scraping the site</a><ul>
<li><a href="#theme-table-and-plot"><span class="toc-section-number">2.1</span> Theme table and plot</a></li>
<li><a href="#individual-letters---2020-in-progress"><span class="toc-section-number">2.2</span> Individual letters - 2020 in progress</a></li>
</ul></li>
<li><a href="#further-analysis"><span class="toc-section-number">3</span> Further analysis</a></li>
<li><a href="#conclusion"><span class="toc-section-number">4</span> Conclusion</a></li>
</ul>
</div>

<div id="intro" class="section level1">
<h1><span class="header-section-number">1</span> Intro</h1>
<p>The UK Statistics Authority (UKSA), and its regulatory arm the Office for Statistics Regulation (OSR), play the role of independently regulating and promoting good practice in <a href="https://www.statisticsauthority.gov.uk/about-the-authority/uk-statistical-system/types-of-official-statistics/">official statistics</a>.</p>
<p>Part of this work is through written publicly available letters with producers of such statistics, the most high-profile of which was the <a href="https://www.statisticsauthority.gov.uk/wp-content/uploads/2017/09/Letter-from-Sir-David-Norgrove-to-Foreign-Secretary.pdf">letter criticising the claim</a> of ‘£350 million per week’ in relation to the UK leaving the EU.</p>
<p>I am interested in these letters, and having seen them in news stories recently I set out to see what data I could find.</p>
</div>
<div id="scraping-the-site" class="section level1">
<h1><span class="header-section-number">2</span> Scraping the site</h1>
<p>I used the R package <code>rvest</code> to web scrape the data from their <a href="https://www.statisticsauthority.gov.uk/correspondence-list/">website</a>.</p>
<p>This was quite fun, though fiddly at times. <strong>All code is available in the GitHub repository <a href="https://github.com/Luke-Shaw/uksa-scrape">uksa-scrape</a>.</strong> I learnt a bit about CSS and webpage construction on the way, and found this <a href="http://flukeout.github.io/">tutorial</a> on CSS selectors fun and useful. The phrase ‘scraping’ feels appropriate, however, as it was not the smoothest of processes and involved a fair few try-and-see attempts until it looked about right!</p>
<p>I ended up with 2 datasets, one with the number of themed letters, and the other a list of all 1244 letters.</p>
<p>It is worth noting that the letters can be from official statistics creators to the UKSA as well as the other way round, so multiple letters can exist as a conversation between regulator and creator.</p>
<div id="theme-table-and-plot" class="section level2">
<h2><span class="header-section-number">2.1</span> Theme table and plot</h2>
<p>Here are the first few elements of the theme table, which has 12 distinct themes and one total. Interestingly nearly half (46%) of the 1244 correspondences are not assigned a theme. This might be correct, or might be due to the theme being a recent addition to the 13 year-long data set.</p>
<table>
<thead>
<tr class="header">
<th align="left">names</th>
<th align="left">values</th>
<th align="left">url</th>
<th align="right">num_letters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Agriculture, Energy and Environment</td>
<td align="left">agriculture-energy-environment</td>
<td align="left"><a href="https://www.statisticsauthority.gov.uk/correspondence-list/?keyword=&amp;theme=agriculture-energy-environment" class="uri">https://www.statisticsauthority.gov.uk/correspondence-list/?keyword=&amp;theme=agriculture-energy-environment</a></td>
<td align="right">30</td>
</tr>
<tr class="even">
<td align="left">Business, Trade and International Development</td>
<td align="left">business-trade-international-development</td>
<td align="left"><a href="https://www.statisticsauthority.gov.uk/correspondence-list/?keyword=&amp;theme=business-trade-international-development" class="uri">https://www.statisticsauthority.gov.uk/correspondence-list/?keyword=&amp;theme=business-trade-international-development</a></td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">Children, Education and Skills</td>
<td align="left">children-education-skills</td>
<td align="left"><a href="https://www.statisticsauthority.gov.uk/correspondence-list/?keyword=&amp;theme=children-education-skills" class="uri">https://www.statisticsauthority.gov.uk/correspondence-list/?keyword=&amp;theme=children-education-skills</a></td>
<td align="right">85</td>
</tr>
</tbody>
</table>
<p>From plotting the results we can see ‘Health and Social Care’ and ‘Economy’ are the themes with most letters.</p>
<p><img src="/post/2020-06-19-webscraping-public-uksa-letters_files/figure-html/theme-plot-1.png" width="960" /></p>
</div>
<div id="individual-letters---2020-in-progress" class="section level2">
<h2><span class="header-section-number">2.2</span> Individual letters - 2020 in progress</h2>
<p>I was thinking what interesting information I could try and glean from the individual letters. Here are the three most recent rows from the individual letter dataset that I scraped:</p>
<table>
<thead>
<tr class="header">
<th align="left">title</th>
<th align="left">date</th>
<th align="left">subtitle</th>
<th align="left">url</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Ed Humpherson to Neil McIvor: Temporary exemption from Code for DfE attendance statistics</td>
<td align="left">2020-06-19</td>
<td align="left">Ed Humpherson, Office for Statistics Regulation to Neil McIvor, Department for Education</td>
<td align="left"><a href="https://www.statisticsauthority.gov.uk/correspondence/ed-humpherson-to-neil-mcivor-temporary-exemption-from-code-for-dfe-attendance-statistics/" class="uri">https://www.statisticsauthority.gov.uk/correspondence/ed-humpherson-to-neil-mcivor-temporary-exemption-from-code-for-dfe-attendance-statistics/</a></td>
</tr>
<tr class="even">
<td align="left">Ed Humpherson to Ken Roy: User engagement in the Defra Group</td>
<td align="left">2020-06-18</td>
<td align="left">Ed Humpherson, Office for Statistics Regulation to Ken Roy, Department for Environment, Food and Rural Affairs</td>
<td align="left"><a href="https://www.statisticsauthority.gov.uk/correspondence/ed-humpherson-to-ken-roy-user-engagement-in-the-defra-group/" class="uri">https://www.statisticsauthority.gov.uk/correspondence/ed-humpherson-to-ken-roy-user-engagement-in-the-defra-group/</a></td>
</tr>
<tr class="odd">
<td align="left">Letter from Sir David Norgrove to Richard Holden MP</td>
<td align="left">2020-06-17</td>
<td align="left">Sir David Norgrove, UK Statistics Authority to Richard Holden MP, House of Commons</td>
<td align="left"><a href="https://www.statisticsauthority.gov.uk/correspondence/letter-from-sir-david-norgrove-to-richard-holden-mp/" class="uri">https://www.statisticsauthority.gov.uk/correspondence/letter-from-sir-david-norgrove-to-richard-holden-mp/</a></td>
</tr>
</tbody>
</table>
<p>Noticing that there have been 9 letters in June 2020 so far, including one today, I wondered if the number of letters was increasing year on year. Of course, as we haven’t finished 2020, we need to adjust the other years to see if this year is on-track to be the year with the most letters.</p>
<p><img src="/post/2020-06-19-webscraping-public-uksa-letters_files/figure-html/yearly-plot-1.png" width="960" /></p>
<p>So the answer is <strong>yes</strong>, although this year is looking similar to the last two.</p>
</div>
</div>
<div id="further-analysis" class="section level1">
<h1><span class="header-section-number">3</span> Further analysis</h1>
<p>This is quite a fun data set, and there is more that could be done with it. It might be interesting to try natural language processing (NLP) on the information in the titles or entire letter text, or to see how frequently different government departments are involved. A way of identifying whether it was an inbound or outbound letter, which may well be hidden in the webpage somewhere, would be an interesting additional column to the letters dataset.</p>
<p>As mentioned above, all the code is on <a href="https://github.com/Luke-Shaw/uksa-scrape">GitHub</a> if anyone out there wants to play around further.</p>
</div>
<div id="conclusion" class="section level1">
<h1><span class="header-section-number">4</span> Conclusion</h1>
<p>The work the UKSA does is vital in promoting and safeguarding the production and publication of official statistics that ‘serve the public good’. OK, I took most of that last sentence from their website, but I do believe it.</p>
<p>Through scraping publicly available information, we can see that the UKSA is on track to publish the most letters this year, though the volume is similar to 2018 and 2019.</p>
</div>

			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-feather"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>Luke Shaw</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>720 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2020-06-19 01:00 &#43;0100</p>
			</footer>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="/posts/choosing-my-fantasy-premier-league-team/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span>Choosing my Fantasy Premier League Team</span>
			</a>
			<a class="prev-post" href="/posts/river-flow-data/">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>UK river flow data</span>
			</a>
		</div>
		<div id="comments" class="thin">
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2020 <a href="/">Luke Shaw</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>



	<script src="/js/bundle.min.4a9a0ac3d2217822c7865b4161e6c2a71de1d70492264337755427898dd718f6.js" integrity="sha256-SpoKw9IheCLHhltBYebCpx3h1wSSJkM3dVQniY3XGPY=" crossorigin="anonymous"></script>
	

</body>

</html>
